<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oaklands Apartments</title>
<style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }

    /* Hero Section with performant crossfade slideshow */
    .hero {
        height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
        text-align: center;
        position: relative;
        overflow: hidden;
    }

    /* slight dark overlay to keep text readable */
    .hero::before {
        content: '';
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.35);
        pointer-events: none;
        z-index: 1;
    }

    /* slideshow container and individual slides (GPU-friendly opacity transitions) */
    .slideshow { position: absolute; inset: 0; z-index: 0; }
    .slide {
        position: absolute; inset: 0;
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        opacity: 0;
        transition: opacity 900ms ease-in-out;
        will-change: opacity;
        cursor: pointer;
    }
    .slide.active { opacity: 1; }

    .hero h1 { 
        font-size: clamp(2.5rem, 8vw, 4rem); 
        margin-bottom: 10px; 
        text-shadow: 2px 2px 10px rgba(0,0,0,0.5); 
        z-index: 2; 
        color: #d4af37; 
        font-weight: bold; 
        text-transform: uppercase; 
        letter-spacing: 2px; 
        font-family: 'Georgia', serif; 
        animation: glow 2s ease-in-out infinite alternate; 
    }

    @keyframes glow {
        from { text-shadow: 2px 2px 10px rgba(0,0,0,0.5), 0 0 20px #d4af37; }
        to { text-shadow: 2px 2px 10px rgba(0,0,0,0.5), 0 0 30px #d4af37, 0 0 40px #d4af37; }
    }
    .hero p { font-size: 1.5rem; text-shadow: 1px 1px 5px rgba(0,0,0,0.5); z-index: 2; }

    /* Room Section */
    .container { padding: 50px 10%; text-align: center; }
    .room-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 30px; }
    .room-card { border: 1px solid #ddd; border-radius: 10px; overflow: hidden; padding-bottom: 20px; transition: 0.3s; background: white; }
    .room-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
    .room-card img { width: 100%; height: 200px; object-fit: cover; }

    .price-tag { color: #2c3e50; font-weight: bold; margin: 10px 0; }
    .exclusive { border: 2px solid #d4af37; background: #fffdf5; }

    .btn { padding: 10px 20px; cursor: pointer; border-radius: 5px; border: 1px solid #2c3e50; transition: 0.3s; background: white; }
    .btn:hover { background: #2c3e50; color: white; }
    .btn-gold { background: #d4af37; color: white; border: none; }
    .btn-gold:hover { background: #b8962d; }

    /* --- MODAL STYLES --- */
    .modal-overlay {
        display: none; /* Hidden by default */
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.7);
        z-index: 1000;
        justify-content: center;
        align-items: center;
    }

    .modal-content {
        background: white;
        padding: 30px;
        border-radius: 15px;
        width: 90%;
        max-width: 450px;
        position: relative;
        animation: slideDown 0.4s ease-out;
    }

    @keyframes slideDown {
        from { transform: translateY(-50px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
    }

    .close-btn {
        position: absolute;
        top: 10px; right: 15px;
        font-size: 24px;
        cursor: pointer;
        color: #888;
    }

    /* Form Styles */
    form label { display: block; text-align: left; margin-top: 10px; font-weight: bold; }
    form input, form select { width: 100%; padding: 10px; margin-top: 5px; border: 1px solid #ccc; border-radius: 5px; }
    .submit-btn { background: #2c3e50; color: white; border: none; padding: 15px; width: 100%; margin-top: 20px; cursor: pointer; border-radius: 5px; font-size: 1rem; }

    /* Contact Section */
    .contact { background: #f4f4f4; padding: 40px; text-align: center; }

    /* Image Modal */
    .image-modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.9);
        justify-content: center;
        align-items: center;
    }
    .image-modal img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
    }
    .image-modal .close {
        position: absolute;
        top: 20px;
        right: 30px;
        color: white;
        font-size: 40px;
        cursor: pointer;
    }
</style>
</head>
<body>

<section class="hero">
    <div class="slideshow" aria-hidden="true">
        <div class="slide" style="background-image: url('IMG_4638.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4769.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4413.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4469.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_44385.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4402.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4409.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4369.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4415.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4360.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4425.jpeg')"></div>
        <div class="slide" style="background-image: url('IMG_4432.jpeg')"></div>
    </div>
    <h1>Oaklands Apartments</h1>
    <p>Your home away from home</p>
    <a href="rooms.html" class="btn btn-gold" style="margin-top: 20px; z-index: 2;">View All Rooms</a>
    <button onclick="openBooking('Standard')" class="btn btn-gold" style="margin-top: 20px; z-index: 2;">Book Your Stay</button>
</section>

<section class="container" id="about">
    <h2>Our Accommodations</h2>
    <div class="room-grid">
        <div class="room-card">
            <img src="IMG_4369.jpeg" alt="Standard Room">
            <h3>Standard Room</h3>
            <p class="price-tag">Day: $30 | Night: $40</p>
            <button class="btn" onclick="openBooking('Standard')">Book Now</button>
        </div>

        <div class="room-card exclusive">
            <img src="IMG_4414.jpeg" alt="Exclusive Suite">
            <h3>Exclusive Suite</h3>
            <p class="price-tag">Flat Rate: $60 (Day & Night)</p>
            <button class="btn btn-gold" onclick="openBooking('Exclusive')">Premium Booking</button>
        </div>
    </div>
</section>

<section class="location" style="background: #f4f4f4; padding: 40px; text-align: center;">
    <h2>Our Location</h2>
    <p>Visit us at our convenient location in Harare.</p>
    <a href="https://maps.app.goo.gl/78QL51jeiGHBoA2C6?g_st=ic" target="_blank" class="btn btn-gold" style="display: block; margin: 20px auto; width: fit-content;">View on Google Maps</a>
</section>

<div class="modal-overlay" id="bookingModal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeBooking()">&times;</span>
        <h3>Make a Reservation</h3>
        <p>Complete the details below to book your stay.</p>
        
        <form action="book.php" method="POST">
            <label>Full Name</label>
            <input type="text" name="guest_name" required placeholder="John Doe">
            
            <label>Email Address</label>
            <input type="email" name="email" required placeholder="john@example.com">
            
            <label>Room Selection</label>
            <select name="room_type" id="roomSelect">
                <option value="Standard">Standard Room</option>
                <option value="Exclusive">Exclusive Suite</option>
            </select>
            
            <label>Check-in Date</label>
            <input type="date" name="booking_date" required>
            
            <button type="submit" class="submit-btn">Confirm My Booking</button>
        </form>
    </div>
</div>

<div class="image-modal" id="imageModal">
    <span class="close" onclick="closeImageModal()">&times;</span>
    <img id="fullImage" src="" alt="Full Image">
</div>

<footer class="contact">
    <h3>Contact Us</h3>
    <p>Email: info@oaklandsapartments.com | Phone: 0242308235</p>
    <p>Address: 10 Browning Dr, Harare</p>
</footer>

<script>
    // Slideshow: build slides from a list, preload, then cycle only loaded slides
    (function() {
        const slideshow = document.querySelector('.slideshow');
        const imageSrcs = [
            'IMG_4638.jpeg','IMG_4413.jpeg','IMG_4469.jpeg','IMG_44385.jpeg',
            'IMG_4402.jpeg','IMG_4409.jpeg','IMG_4369.jpeg','IMG_4415.jpeg',
            'IMG_4360.jpeg','IMG_4425.jpeg','IMG_4432.jpeg','IMG_4769.jpeg'
        ];

        // Clear any existing slides and create placeholders
        slideshow.innerHTML = '';
        const slides = imageSrcs.map(src => {
            const div = document.createElement('div');
            div.className = 'slide';
            div.dataset.src = src;
            div.dataset.loaded = '0';
            div.onclick = () => showImageModal(src);
            // ensure a dark fallback color while image loads
            div.style.backgroundColor = '#000';
            slideshow.appendChild(div);
            return div;
        });

        // Preload images and set background when loaded
        slides.forEach(slide => {
            const src = slide.dataset.src;
            const img = new Image();
            img.onload = function() {
                slide.style.backgroundImage = `url('${src}')`;
                slide.dataset.loaded = '1';
            };
            img.onerror = function() {
                // mark as failed so we can skip it in the rotation
                slide.dataset.loaded = '0';
            };
            img.src = src;
        });

        let current = -1;
        const displayMs = 2000; // how long each slide shows

        function nextLoadedIndex(fromIndex) {
            const total = slides.length;
            for (let i = 1; i <= total; i++) {
                const idx = (fromIndex + i) % total;
                if (slides[idx].dataset.loaded === '1') return idx;
            }
            return -1; // none loaded yet
        }

        function showNext() {
            const next = nextLoadedIndex(current);
            if (next === -1) {
                // nothing loaded yet â€” try again shortly
                setTimeout(showNext, 300);
                return;
            }
            const prev = current;
            current = next;
            if (prev >= 0) slides[prev].classList.remove('active');
            slides[current].classList.add('active');
            setTimeout(showNext, displayMs);
        }

        // Kick off the loop
        showNext();
    })();

    // Modal booking logic (unchanged behavior)
    const modal = document.getElementById('bookingModal');
    const roomSelect = document.getElementById('roomSelect');

    function openBooking(roomType) {
        modal.style.display = 'flex';
        roomSelect.value = roomType; // Auto-select the room based on button clicked
    }

    function closeBooking() {
        modal.style.display = 'none';
    }

    // Close modal if user clicks outside of the box
    window.addEventListener('click', function(event) {
        if (event.target === modal) {
            closeBooking();
        }
    });

    function showImageModal(src) {
        document.getElementById('fullImage').src = src;
        document.getElementById('imageModal').style.display = 'flex';
    }

    function closeImageModal() {
        document.getElementById('imageModal').style.display = 'none';
    }
</script>

</body>
</html>